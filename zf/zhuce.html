<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户注册</title>
    <link href="css/bbb.css" rel="stylesheet" type="text/css"/>
    <script src="js/jquery-3.4.1.js"></script>
</head>
<body>
        <div>
          <img id="u0"  src="tp/qq.png"/>
        </div>
        <div id="u1"></div>

        <div id="u2">
            <div id="t1">手机号</div>
            <div id="t2">短信动态码</div>
            <div id="t3">创建密码</div>
            <div id="t4">确认密码</div>
        </div>

        <div id="u3">
            <form>
                <div class="u31"><input class="f" id="ph" type="text"></div>
                <div id = "r"><P>注册成功后，全美团通用</P></div>
                <div id = "r1" class="rf"><img src="tp/r.png" style="width: 25px;"></div>
                <div id = "f1" class="rf"><img src="tp/f.png" style="width: 25px;">
                    <span>请输入正确的11位手机号码</span></div>
                <div><button id="u5">免费获取短信动态码</button></div> 
                <div class="u32"><input class="f" id="dt" type="text"></div>
                <div id = "r2" class="rf"><img src="tp/r.png" style="width: 25px;"></div>
                <div id = "f2" class="rf"><img src="tp/f.png" style="width: 25px;">
                    <span>请输入短信动态码</span></div>
                <div class="u33"> <input class="f" id="pw1" type="password"></div>
                <div id = "r3" class="rf"><img src="tp/r.png" style="width: 25px;"></div>
                <div id = "f3" class="rf"><img src="tp/f.png" style="width: 25px;">
                    <span>密码太短，至少8个字符</span></div>
                <div id = "f6" class="rf"><img src="tp/f.png" style="width: 25px;">
                    <span>请填写密码</span></div>
                <div class="u36" style="z-index:2">
                    <div class="u360">弱</div>
                    <div class="u360">中</div>
                    <div class="u360">强</div>
                </div>
                <div class="u37" style="z-index:1">
                    <div class="u361" id ="fir"></div>
                    <div class="u361" id ="sed"></div>
                    <div class="u361" id ="tir"></div>
                </div>
                <div class="u34"> <input class="f" id="pw2" type="password"></div>
                <div id = "f4" class="rf"><img src="tp/f.png" style="width: 25px;">
                    <span>两次输入的密码不一致，请重新输入</span></div>
                <div id = "f5" class="rf"><img src="tp/f.png" style="width: 25px;">
                    <span>请再次输入密码</span></div>
                <div id = "r4" class="rf"><img src="tp/r.png" style="width: 25px;"></div>
                <div class="u35"><input class="b" type="submit" value="同意以下协议并注册" ></div>
            </form>
         </div>
         <div id="u4">
            <span id="xy">《美团点评用户服务协议》</span>&nbsp;<span id="zc">《美团点评隐私政策》</span>
        </div>  
</body>
</html>
<script >
    $(function(){
        $(".rf").hide();

         $("#xy").click(function(){
            var newWeb=window.open('_blank');
            newWeb.location='js/4.html';
         });
         $("#zc").click(function(){
            var newWeb=window.open('_blank');
            newWeb.location='js/2.html';
         });
    
        //  focus()获取焦点 attr(attr,value)修改属性
         $(".f").focus(function(){
             $(this).css("border-color","rgba(255, 0, 0, 0.973)");
         });

         $("#ph").focus(function(){
             $("#r").hide();
         });

        //  blur() 失去焦点  .val()取值
         $("#ph").blur(function(){   
             var a = $("#ph").val();        
             if($.trim(a).length == 11 && $.isNumeric(a)){ 
                 $(this).css("border-color","rgba(136, 132, 132, 0.699)");
                 $("#f1").hide();
                 $("#r1").show();
             }else{
                 $(this).css("border-color"," rgb(243, 101, 19)");
                 $("#r1").hide();
                 $("#f1").show();
             }
         });
    
         $("#dt").blur(function(){   
             var a = $("#dt").val();        
             if(a == "12345"){ 
                 $(this).css("border-color","rgba(136, 132, 132, 0.699)");
                 $("#f2").hide();
                 $("#r2").show();
             }else{
                 $(this).css("border-color"," rgb(243, 101, 19)");
                 $("#r2").hide();
                 $("#f2").show();
             }
         });

         $("#pw1").blur(function(){   
             var a = $("#pw1").val(); 
             var b = $("#pw2").val(); 
             if($.trim(a) != ""){  
                 if($.trim(a).length > 7){ 
                     $(this).css("border-color","rgba(136, 132, 132, 0.699)");
                     $("#f6").hide();
                     $("#f3").hide();
                     $("#r3").show();
                     }else{
                         $(this).css("border-color"," rgb(243, 101, 19)");
                         $("#f6").hide();
                         $("#r3").hide();
                         $("#f3").show();
                         }
                if( a !== b && b != ""){
                    $("#pw2").css("border-color"," rgb(243, 101, 19)");
                    $("#r4").hide();
                    $("#f5").hide();
                    $("#f4").show();
                }
             }else {
                $(this).css("border-color"," rgb(243, 101, 19)");
                $("#r3").hide();
                $("#f3").hide();
                $("#f6").show();
             }

         });

         $("#pw2").blur(function(){   
             var a = $("#pw2").val();
             var b = $("#pw1").val(); 
             if($.trim(a) == ""){
                 $(this).css("border-color"," rgb(243, 101, 19)");
                 $("#r4").hide();
                 $("#f4").hide();
                 $("#f5").show();
             }else if(a === b ){ 
                 $(this).css("border-color","rgba(136, 132, 132, 0.699)");
                 $("#f4").hide();
                 $("#f5").hide();
                 $("#r4").show();
                 }else{
                     $(this).css("border-color"," rgb(243, 101, 19)");
                     $("#r4").hide();
                     $("#f5").hide();
                     $("#f4").show();
             }
         });

// 只有一种类型 弱
// 字母+3个及以上数字/一种特殊符号 中
// 字母+数字+特殊符号 强
         $("#pw1").keyup(function(){
             var a =  $("#pw1").val();
             var s =/[a-z]/i;
             var z =/[0-9]/i;
             var q = /[`~!@#$%^&*()_+<>?:"{},.;'\/\[\]\\]/i; 
             var g = /[0-9]/g;
             if(z.test(a) || s.test(a) || q.test(a)){
                 $("#fir").css({"background-color":" rgb(255, 94, 0)"});
                 $("#fir").animate({"width":"88px"},500);
                 if((s.test(a) && q.test(a)) || (a.match(g).length >= 3 &&  ((z.test(a) && s.test(a)) ||(z.test(a) && q.test(a))))){
                     $("#fir").css({"background-color":"rgb(255, 136, 0)"});
                     $("#sed").css({"background-color":"rgb(255, 136, 0)"});
                     $("#sed").animate({"width":"88px"},500);
                     if(z.test(a) &&  s.test(a) && q.test(a) && a.match(g).length >= 3 ){
                         $("#fir").css({"background-color":"rgb(50, 175, 33)"});
                         $("#sed").css({"background-color":"rgb(50, 175, 33)"});
                         $("#tir").css({"background-color":"rgb(50, 175, 33)"});
                         $("#tir").animate({"width":"88px"},500);
                     }else{
                         $("#tir").animate({"width":"0px"},500);
                         }
                }else{
                     $("#sed").animate({"width":"0px"},500);
                     }
             }else{
                 $("#fir").animate({"width":"0px"},500);
             }
         });



    });
</script>
